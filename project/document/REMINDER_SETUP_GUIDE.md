# æé†’åŠŸèƒ½è®¾ç½®æŒ‡å—

## ğŸ¯ è®¾è®¡ç†å¿µ

æé†’åŠŸèƒ½é‡‡ç”¨**æ™ºèƒ½è‡ªåŠ¨è®¾ç½®**çš„æ–¹å¼ï¼Œç”¨æˆ·åªéœ€åœ¨åº”ç”¨ä¸­å¯ç”¨æé†’åŠŸèƒ½ï¼Œç¨‹åºä¼šè‡ªåŠ¨å®Œæˆå®šæ—¶ä»»åŠ¡çš„è®¾ç½®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ2æ­¥ï¼‰

### æ­¥éª¤1ï¼šå¯åŠ¨åº”ç”¨å¹¶å¯ç”¨æé†’åŠŸèƒ½

```bash
# è¿è¡Œåº”ç”¨
scripts\run.bat

# åˆ‡æ¢åˆ°settingæ¨¡å¼
> switch
è¾“å…¥: setting

# å¯ç”¨æé†’åŠŸèƒ½
> reminder
é€‰æ‹©: 1 (å¯ç”¨æé†’åŠŸèƒ½)

# æ˜¯å¦ç°åœ¨é‡å¯ç¨‹åºï¼Ÿ(Y/N): Y
```

### æ­¥éª¤2ï¼šè‡ªåŠ¨å®Œæˆ

å½“æ‚¨é€‰æ‹©é‡å¯ç¨‹åºåï¼š
- âœ… ç¨‹åºè‡ªåŠ¨é€€å‡º
- âœ… å†æ¬¡è¿è¡Œ `scripts\run.bat`
- âœ… è„šæœ¬æ£€æµ‹åˆ°æé†’åŠŸèƒ½å·²å¯ç”¨ä½†æœªè®¾ç½®å®šæ—¶ä»»åŠ¡
- âœ… **è‡ªåŠ¨è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡ï¼‰**
- âœ… ç¨‹åºæ­£å¸¸å¯åŠ¨

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰

## ğŸ“‹ å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·åœ¨åº”ç”¨ä¸­å¯ç”¨æé†’åŠŸèƒ½                 â”‚
â”‚  (settingæ¨¡å¼ > reminder > é€‰æ‹©1)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æç¤ºæ˜¯å¦é‡å¯ç¨‹åºï¼Ÿ                       â”‚
â”‚  (é€‰æ‹© Y)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¨‹åºé€€å‡º                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”¨æˆ·å†æ¬¡è¿è¡Œ scripts\run.bat             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¯åŠ¨è„šæœ¬è‡ªåŠ¨æ£€æµ‹ï¼š                       â”‚
â”‚  1. æé†’åŠŸèƒ½æ˜¯å¦å¯ç”¨ï¼Ÿ(æ£€æŸ¥config.json)   â”‚
â”‚  2. å®šæ—¶ä»»åŠ¡æ˜¯å¦å·²è®¾ç½®ï¼Ÿ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ å·²å¯ç”¨ && æœªè®¾ç½® â”‚
        â”‚               â”‚
        â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨è®¾ç½®    â”‚   â”‚  ç›´æ¥å¯åŠ¨    â”‚
â”‚  å®šæ—¶ä»»åŠ¡    â”‚   â”‚  ç¨‹åº        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ›å»ºWindowsä»»åŠ¡è®¡åˆ’ï¼š                    â”‚
â”‚  â€¢ ä»»åŠ¡åï¼šTodoListReminder               â”‚
â”‚  â€¢ é¢‘ç‡ï¼šæ¯å°æ—¶æ‰§è¡Œä¸€æ¬¡                   â”‚
â”‚  â€¢ å‘½ä»¤ï¼šproject.exe --check-reminders    â”‚
â”‚  â€¢ æƒé™ï¼šå½“å‰ç”¨æˆ·                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… å®šæ—¶ä»»åŠ¡è®¾ç½®å®Œæˆ                      â”‚
â”‚  âœ… ç¨‹åºæ­£å¸¸å¯åŠ¨                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš™ï¸ é…ç½®è¯´æ˜

### é»˜è®¤é…ç½®

å¯åŠ¨è„šæœ¬ä¼šä½¿ç”¨ä»¥ä¸‹é»˜è®¤å‚æ•°è‡ªåŠ¨è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼š

- **æ£€æŸ¥é¢‘ç‡**ï¼šæ¯å°æ—¶ï¼ˆ60åˆ†é’Ÿï¼‰
- **æ‰§è¡Œå‘½ä»¤**ï¼š`project.exe --check-reminders`
- **æƒé™çº§åˆ«**ï¼šå½“å‰ç”¨æˆ·ï¼ˆLimitedï¼‰
- **ç”µæ± ç­–ç•¥**ï¼šå…è®¸ä½¿ç”¨ç”µæ± æ—¶è¿è¡Œ
- **è¶…æ—¶æ—¶é—´**ï¼š5åˆ†é’Ÿ
- **é‡è¯•ç­–ç•¥**ï¼šå¤±è´¥åé‡è¯•3æ¬¡ï¼Œé—´éš”1åˆ†é’Ÿ

### è‡ªå®šä¹‰é…ç½®

å¦‚æœéœ€è¦ä¿®æ”¹æ£€æŸ¥é¢‘ç‡æˆ–å…¶ä»–å‚æ•°ï¼Œå¯ä»¥ï¼š

1. **æ–¹æ³•1ï¼šåˆ é™¤ä»»åŠ¡åé‡æ–°è®¾ç½®**
   ```powershell
   # åˆ é™¤ç°æœ‰ä»»åŠ¡
   Unregister-ScheduledTask -TaskName "TodoListReminder" -Confirm:$false
   
   # å†æ¬¡è¿è¡Œç¨‹åºï¼Œä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºï¼ˆä½¿ç”¨é»˜è®¤é…ç½®ï¼‰
   scripts\run.bat
   ```

2. **æ–¹æ³•2ï¼šæ‰‹åŠ¨ä¿®æ”¹ä»»åŠ¡è®¡åˆ’**
   ```
   Win + R â†’ è¾“å…¥ taskschd.msc â†’ æ‰¾åˆ° TodoListReminder â†’ å³é”®å±æ€§ â†’ ä¿®æ”¹è§¦å‘å™¨
   ```

3. **æ–¹æ³•3ï¼šä½¿ç”¨é«˜çº§è®¾ç½®è„šæœ¬**
   ```powershell
   # å¦‚æœéœ€è¦è‡ªå®šä¹‰é¢‘ç‡ç­‰å‚æ•°
   powershell -ExecutionPolicy Bypass -File scripts\setup_reminder_task.ps1
   ```

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### æŸ¥çœ‹æé†’çŠ¶æ€

```bash
> switch
è¾“å…¥: setting

> reminder-status
```

### æµ‹è¯•æé†’åŠŸèƒ½

```bash
> switch
è¾“å…¥: setting

> test-reminder
```

### ç¦ç”¨æé†’åŠŸèƒ½

```bash
> switch
è¾“å…¥: setting

> reminder
é€‰æ‹©: 2 (ç¦ç”¨æé†’åŠŸèƒ½)
```

**æ³¨æ„**ï¼šç¦ç”¨æé†’åŠŸèƒ½ä¸ä¼šåˆ é™¤å®šæ—¶ä»»åŠ¡ï¼Œåªæ˜¯æš‚åœæé†’æ£€æŸ¥ã€‚

### æŸ¥çœ‹æé†’å†å²

```bash
> switch
è¾“å…¥: setting

> reminder-history
```

### æ¸…ç†æ—§å†å²

```bash
> switch
è¾“å…¥: setting

> reminder-cleanup
è¾“å…¥å¤©æ•°: 30  # ä¿ç•™æœ€è¿‘30å¤©çš„è®°å½•
```

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šå®šæ—¶ä»»åŠ¡æœªè‡ªåŠ¨åˆ›å»º

**å¯èƒ½åŸå› **ï¼š
- æ²¡æœ‰ç¼–è¯‘é¡¹ç›®ï¼ˆæ‰¾ä¸åˆ°å¯æ‰§è¡Œæ–‡ä»¶ï¼‰
- æƒé™ä¸è¶³

**è§£å†³æ–¹æ³•**ï¼š
```bash
# 1. å…ˆç¼–è¯‘é¡¹ç›®
cargo build --release

# 2. å†æ¬¡è¿è¡Œ
scripts\run.bat
```

### é—®é¢˜2ï¼šæé†’åŠŸèƒ½ä¸å·¥ä½œ

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤æé†’åŠŸèƒ½å·²å¯ç”¨
   ```bash
   > reminder-status
   ```

2. ç¡®è®¤å®šæ—¶ä»»åŠ¡å·²åˆ›å»º
   ```powershell
   Get-ScheduledTask -TaskName "TodoListReminder"
   ```

3. æ‰‹åŠ¨æµ‹è¯•
   ```bash
   .\target\release\project.exe --check-reminders
   ```

### é—®é¢˜3ï¼šæ”¶ä¸åˆ°é€šçŸ¥

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥é€šçŸ¥ç±»å‹é…ç½®ï¼ˆ`database/config.json`ï¼‰
2. æµ‹è¯•Windowsé€šçŸ¥æƒé™
3. æŸ¥çœ‹æé†’æ—¥å¿—ï¼ˆ`database/reminder.log`ï¼‰

## ğŸ“Š é…ç½®æ–‡ä»¶è¯´æ˜

`database/config.json` ç¤ºä¾‹ï¼š

```json
{
  "mode": "memo",
  "reminder": {
    "enabled": true,              // æé†’åŠŸèƒ½å¼€å…³
    "notification_type": "console", // é€šçŸ¥ç±»å‹: console/windows/both
    "rules": [
      {
        "rule_type": "before_deadline",
        "seconds_before": 86400,  // æå‰24å°æ—¶
        "message_template": "ğŸ“… ä»»åŠ¡ã€Œ{title}ã€(ID:{id}) å°†åœ¨1å¤©ååˆ°æœŸ"
      },
      {
        "rule_type": "before_deadline",
        "seconds_before": 3600,   // æå‰1å°æ—¶
        "message_template": "â° ä»»åŠ¡ã€Œ{title}ã€(ID:{id}) å°†åœ¨1å°æ—¶ååˆ°æœŸï¼"
      },
      {
        "rule_type": "overdue",
        "seconds_before": null,   // é€¾æœŸæé†’
        "message_template": "âŒ ä»»åŠ¡ã€Œ{title}ã€(ID:{id}) å·²é€¾æœŸï¼"
      }
    ]
  }
}
```

## ğŸ¯ æ€»ç»“

- **âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œ**ï¼šåœ¨åº”ç”¨ä¸­å¯ç”¨æé†’åŠŸèƒ½å³å¯
- **âœ… è‡ªåŠ¨åŒ–è®¾ç½®**ï¼šé‡å¯ç¨‹åºæ—¶è‡ªåŠ¨åˆ›å»ºå®šæ—¶ä»»åŠ¡
- **âœ… å¼€ç®±å³ç”¨**ï¼šé»˜è®¤é…ç½®é€‚åˆå¤§å¤šæ•°åœºæ™¯
- **âœ… çµæ´»å¯æ§**ï¼šå¯ä»¥éšæ—¶å¯ç”¨/ç¦ç”¨/æŸ¥çœ‹çŠ¶æ€

åªéœ€ä¸¤æ­¥ï¼Œè½»æ¾äº«å—è‡ªåŠ¨æé†’åŠŸèƒ½ï¼ğŸ‰

